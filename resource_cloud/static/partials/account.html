<div ng-controller="AccountController">
    <h1>Account</h1>
    <div class="row">
        <div class="col-md-12">
            <h2>SSH Keys</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7 col-xs-10">
            <button ng-click="generate_key()" class="btn btn-lg btn-primary">Generate Keypair</button>
            <a type="button" ng-disabled="!key_downloadable()" class="btn btn-lg btn-primary" id="content" download="resource_cloud.key" ng-href="{{key_url()}}">Download Private Key</a>
        </div>
        <div class="col-md-1 col-xs-2">
            <button class="btn btn-lg" type="button" data-toggle="collapse" data-target="#collapseSSHHelp" aria-expanded="false" aria-controls="collapseSSHHelp">
                <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-8 col-xs-12">
            <div ng-show="key_downloadable()" class="alert alert-warning" role="alert">
                Your private key is not stored in the Resource Cloud. To use it later, you must download it now.
            </div>

            <div class="collapse" id="collapseSSHHelp">
                <div class="well">SSH keys are used to access your resources like instantiated clusters. You can generate your public and private keys, or upload your existing public key. New keys will be used with every new resource created.</div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <h2>Change Password</h2>
            <form name="changePasswordForm" class="form-activate" ng-submit="update_password()">
                <input type="password" class="form-control" ng-model="user.password"  data-ng-class="{'ng-invalid':changePasswordForm.confirmPassword.$error.match}" placeholder="Password" required>
                <input type="password" class="form-control" name="confirmPassword" ng-model="user.passwordConfirm" match="user.password" placeholder="Verify password" required>
                <div data-ng-show="changePasswordForm.confirmPassword.$error.match" class="alert alert-danger" role="alert">Passwords do not match!</div>
                <div ng-show="change_password_msg_visible()" class="alert alert-info" role="alert">{{ change_password_msg() }}</div>
                <button class="btn btn-lg btn-primary btn-block" ng-disabled="changePasswordForm.$invalid" type="submit">Change</button>
            </form>
        </div>
    </div>
</div>
